"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[758],{8758:function(a,t,e){e.r(t),e.d(t,{default:function(){return W}});var s=e(3396);function n(a,t,e,n,o,r){const c=(0,s.up)("Navbar"),i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),o.isChecked?((0,s.wg)(),(0,s.j4)(i,{key:0})):(0,s.kq)("",!0)],64)}var o=e(9242);const r={class:"navbar navbar-expand-lg navbar-dark bg-dark"},c={class:"container"},i=(0,s._)("a",{class:"navbar-brand",href:"#"},"Wagashi",-1),l=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse",id:"navbarNav"},v={class:"navbar-nav | w-100"},h={class:"nav-item"},d=(0,s.Uk)("產品"),p={class:"nav-item | me-auto"},g=(0,s.Uk)("訂單"),k={class:"nav-item"};function b(a,t,e,n,b,m){const _=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",r,[(0,s._)("div",c,[i,l,(0,s._)("div",u,[(0,s._)("ul",v,[(0,s._)("li",h,[(0,s.Wm)(_,{to:"/admin/products",class:"nav-link active","aria-current":"page"},{default:(0,s.w5)((()=>[d])),_:1})]),(0,s._)("li",p,[(0,s.Wm)(_,{to:"/admin/orders",class:"nav-link"},{default:(0,s.w5)((()=>[g])),_:1})]),(0,s._)("li",k,[(0,s._)("a",{onClick:t[0]||(t[0]=(0,o.iM)(((...a)=>m.logout&&m.logout(...a)),["prevent"])),href:"#",class:"nav-link"},"登出")])])])])])}var m={methods:{logout(){const a="https://vue3-course-api.hexschool.io/v2/logout";this.$http.post(a).then((a=>{a.data.success&&this.$router.replace("/login")}))}}},_=e(89);const f=(0,_.Z)(m,[["render",b]]);var w=f,$=e(2492),C=e.n($),x={components:{Navbar:w},data(){return{isChecked:!1}},methods:{check_login_status(){const a="https://vue3-course-api.hexschool.io/v2/api/user/check",t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,this.$http.post(a).then((a=>{a.data.success&&(this.isChecked=!0)})).catch((a=>{a.response.data.success||C().fire({text:"驗證失敗，請確認 api 路徑是否為本人使用",icon:"error",showConfirmButton:!1,timer:1500}),this.$router.replace("/login")}))}},mounted(){this.check_login_status()}};const N=(0,_.Z)(x,[["render",n]]);var W=N}}]);
//# sourceMappingURL=758.81953b3c.js.map