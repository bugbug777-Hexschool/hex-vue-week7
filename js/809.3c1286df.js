"use strict";(self["webpackChunkdemo"]=self["webpackChunkdemo"]||[]).push([[809],{5809:function(e,s,a){a.r(s),a.d(s,{default:function(){return k}});var r=a(3396),o=a(7139);const t={style:{height:"100vh"}},l={class:"container | h-100"},n={class:"row justify-content-center align-items-center | h-100"},i={class:"col-3"},d=(0,r._)("h1",{class:"text-center | mb-3"},"管理員登入",-1),c={class:"form-floating | mb-3"},u=(0,r._)("label",{for:"email"},"帳號",-1),m={class:"form-floating | mb-3"},p=(0,r._)("label",{for:"password"},"密碼",-1),f=(0,r._)("div",{class:"text-end"},[(0,r._)("button",{type:"submit",class:"btn btn-primary w-100"},"登入")],-1);function h(e,s,a,h,v,w){const b=(0,r.up)("v-field"),_=(0,r.up)("error-message"),g=(0,r.up)("v-form");return(0,r.wg)(),(0,r.iD)("div",t,[(0,r._)("div",l,[(0,r._)("div",n,[(0,r._)("div",i,[d,(0,r.Wm)(g,{onSubmit:w.login},{default:(0,r.w5)((({errors:e})=>[(0,r._)("div",c,[(0,r.Wm)(b,{modelValue:v.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>v.user.username=e),type:"email",id:"email",name:"email",rules:"email|required",placeholder:"請輸入帳號",class:(0,o.C_)(["form-control",{"is-invalid":e["email"]}])},null,8,["modelValue","class"]),u,(0,r.Wm)(_,{name:"email",class:"invalid-feedback"})]),(0,r._)("div",m,[(0,r.Wm)(b,{modelValue:v.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>v.user.password=e),type:"password",id:"password",name:"password",rules:"required",placeholder:"請輸入帳號",class:(0,o.C_)(["form-control",{"is-invalid":e["password"]}])},null,8,["modelValue","class"]),p,(0,r.Wm)(_,{name:"password",class:"invalid-feedback"})]),f])),_:1},8,["onSubmit"])])])])])}var v=a(2492),w=a.n(v),b={data(){return{user:{username:"",password:""}}},methods:{login(){const e="https://vue3-course-api.hexschool.io/v2/admin/signin";this.$http.post(e,this.user).then((e=>{if(e.data.success){const{token:s,expired:a}=e.data;document.cookie=`hexToken=${s}; expires=${new Date(a)}; SameSite=None; Secure`,this.$router.replace("/admin/products")}})).catch((e=>{e.response.data.success||w().fire({text:"請檢查帳號或密碼有無錯誤！！",icon:"error",showConfirmButton:!1,timer:1e3})}))}}},_=a(89);const g=(0,_.Z)(b,[["render",h]]);var k=g}}]);
//# sourceMappingURL=809.3c1286df.js.map